/**
 * Minified by jsDelivr using Terser v5.37.0.
 * Original file: /npm/barea.js@1.2.3/barea.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";export class BareaApp{#e=null;#t;#a=0;#r=0;#n;#i=new WeakMap;#s=new Map;#l=[];#o;#d={};#c=!1;#p=null;#u={};#h=!1;#m=!1;#f=null;#E=null;constructor(e){e&&(this.#h=e),this.#E=this.#D(),this.#f=this.#P(this.#_)}mount(e,t){if(this.#e=t,this.#c)return;if(this.#c=!0,!t)return void console.error("Illegal use of mount, please pass a content object with data and methods");if(!t.data)return void console.error("Illegal use of mount, please pass a content object with data and methods");if(!e)return void console.error("Illegal use of mount, please pass an element or an element identifier");if(this.#t="object"==typeof e?e:document.getElementById(e),this.#o=t.data,this.#n=t.data,t.methods&&(this.#d=t.methods,Object.assign(this,this.#d),Object.keys(t.methods).forEach((e=>{"function"==typeof this[e]&&(this[e]=this[e].bind(this))}))),t.computed&&(Object.keys(t.computed).forEach((e=>{"function"==typeof t.computed[e]&&(this.#u[e]=this.#y(t.computed[e],e),this.#l.push(e))})),Object.keys(this.#u).forEach((e=>{Object.defineProperty(this,e,{get:()=>this.#u[e].value,enumerable:!0,configurable:!0})}))),t.mounted&&(this.#p=t.mounted),this.#m?document.addEventListener("DOMContentLoaded",this.#I):document.querySelectorAll(".ba-cloak").forEach((e=>e.classList.remove("ba-cloak"))),!("fetch"in window&&"Promise"in window&&"Symbol"in window&&"Map"in window))return void console.error("Your browser and js engine is too old to use this script");const a=this.#R(((e,t,a,r,n="")=>{let i=BareaHelper.getDebugLog(1);if(i.active&&console.log(i.name,e,t,a,r,n),Array.isArray(t)&&BareaHelper.ARRAY_FUNCTIONS.includes(n)){let r=BareaHelper.getLastBareaObjectName(e);a=BareaHelper.getLastBareaKeyName(e),(t=this.getProxifiedPathData(r))||console.error("could not find array on path: "+e)}this.#f.notify(e,t,a,r,n)}),this.#o);return this.#n=a,this.#T(),this.#h&&!this.#n.hasOwnProperty("baId")&&(this.#n.baId=++this.#a),this.#p&&this.#p.apply(this,[this.#n]),this.#n}refresh(){this.#c&&(this.#t?(this.#f.restoreUITracker(),this.#f=this.#P(this.#_),Object.keys(this.#u).forEach((e=>{this.#u[e].clearDependentDirectives()})),this.#s.clear(),this.#e.computed&&(this.#u={},Object.keys(this.#e.computed).forEach((e=>{"function"==typeof this.#e.computed[e]&&(this.#u[e]=this.#y(this.#e.computed[e],e),this.#l.push(e))})),Object.keys(this.#u).forEach((e=>{Object.defineProperty(this,e,{get:()=>this.#u[e].value,enumerable:!0,configurable:!0})}))),this.#T()):console.error("The app element is missing in barea.js"))}getData(){if(this.#c)return this.#n;console.warn("barea.js is not mounted. Call mount on the instance before using this method.")}enableHideBeforeLoaded(e){this.#g(e)&&(this.#m=e)}addHandler(e,t){"function"==typeof t?this.#d[e]=t:console.warn(`Handler for "${e}" is not a function.`)}getProxifiedPathData(e){if(!e)return this.#n;const t=e.match(/[^.[\]]+/g);if(!t)return this.#n;let a=this.#n;for(let e=0;e<t.length;e++)if(0!==e||"root"!==t[e].toLowerCase()){if(!a)return;a=a[t[e]]}return a}getPathData(e){if(!e)return this.#o;const t=e.match(/[^.[\]]+/g);if(!t)return this.#o;let a=this.#o;for(let e=0;e<t.length;e++)if(0!==e||"root"!==t[e].toLowerCase()){if(!a)return;a=a[t[e]]}return a}getObjectDictionary(e,t=""){let a={};for(const r in e)if(e.hasOwnProperty(r)){const n=t?`${t}.${r}`:r;"object"==typeof e[r]&&null!==e[r]?Array.isArray(e[r])?(a[n]=e[r],e[r].forEach(((e,t)=>{a[`${n}[${t}]`]=e,Object.assign(a,this.getObjectDictionary(e,`${n}[${t}]`))}))):(a[n]=e[r],Object.assign(a,this.getObjectDictionary(e[r],n))):a[n]=e[r]}return a}#R(e,t,a="root"){return new Proxy(t,{get:(t,r,n)=>{let i=Reflect.get(t,r,n);if(r===Symbol.iterator)return function*(){let r=0;for(let n of t){let t=`${a}[${r++}]`;if("object"==typeof n&&null!==n)if(this.#i.has(n))yield this.#i.get(n);else{const a=this.#R(e,n,t);this.#i.set(n,a),yield a}else yield n}}.bind(this);const s=Array.isArray(t)?`${a}[${r}]`:`${a}.${r}`;if("function"!=typeof i&&this.#E.track(s,null),"object"==typeof i&&null!==i){if(Array.isArray(i)||!this.#h||i.hasOwnProperty("baId")||(i.baId=++this.#a),this.#i.has(i))return this.#i.get(i);const t=this.#R(e,i,s);return this.#i.set(i,t),t}return"function"==typeof i&&BareaHelper.ARRAY_FUNCTIONS.includes(i.name)?(this.#r++,(...r)=>{let s=[];r.forEach((t=>{let a=null;"object"==typeof t?(a=this.#R(e,t),this.#i.has(t)||this.#i.set(t,a)):a=t,s.push(a)}));const l=i.apply(t,r);return this.#E.notify(a,i.name),e(a,n,"",s,i.name),l}):i},set:(t,r,n,i)=>{const s=Array.isArray(t)?`${a}[${r}]`:`${a}.${r}`;return"function"==typeof n&&!BareaHelper.ARRAY_FUNCTIONS.includes(n.name)||(t[r]===n||(t[r]=n,"function"==typeof n&&BareaHelper.ARRAY_FUNCTIONS.includes(n.name)?this.#E.notify(s,n.name):this.#E.notify(s,null),e(s,i,r,i[r])),!0)}})}#T(e=this.#t,t={template:null,rendereddata:null,renderedindex:-1,renderedvarname:"",renderedobjid:-1}){let a=this.#v();Array.from(e.querySelectorAll("*")).filter((e=>e.attributes.length&&Array.prototype.some.call(e.attributes,(e=>e.name.startsWith("ba-"))))).forEach((e=>{const r=Array.from(e.attributes).filter((e=>e.name.startsWith("ba-"))).map((e=>({name:e.name,value:e.value})));a.includes(e)||r.forEach((a=>{if(a.value)if(this.#r++,BareaHelper.DIR_GROUP_BIND_TO_PATH.includes(a.name)){const r=this.#B(a.value,a.name);if(r===BareaHelper.EXPR_TYPE_INVALID)return void console.error(`The ${a.name} directive with value: (${a.value}) is invalid.`);let n="",i=-1;BareaHelper.DIR_GROUP_UI_DUPLEX.includes(a.name)&&(n=e.getAttribute("type"),n?(i=1,"text"===n.toLowerCase()&&(i=1),"checkbox"===n.toLowerCase()&&(i=2),"radio"===n.toLowerCase()&&(i=3)):i=4);let s=this.#b(t,e,a.name,a.value,null,"",i);if(s.expressiontype=r,!t.rendereddata||a.value.startsWith(BareaHelper.ROOT_OBJECT)){let e=BareaHelper.getLastBareaObjectName(a.value);s.data=this.getProxifiedPathData(e),s.key=BareaHelper.getLastBareaKeyName(a.value)}else s.data=t.rendereddata,s.key=BareaHelper.getLastBareaKeyName(a.value);if(!s.data||!s.key)return void console.error(`Could not track directive ${a.name} (${a.value}) could not match data at the given path`);let l=e.getAttribute(BareaHelper.DIR_BIND_HANDLER);if(l){if(this.#B(l,BareaHelper.DIR_BIND_HANDLER)===BareaHelper.EXPR_TYPE_INVALID)return void console.error(`The ${BareaHelper.DIR_BIND_HANDLER} directive has an invalid value (${l}), should be funcname(), or funcname(args..).`);s.hashandler=!0,s.handlername=l}if(this.#f.track("value",s),BareaHelper.DIR_GROUP_UI_DUPLEX.includes(s.directivename)){s.hashandler&&this.#H(BareaHelper.VERB_SET_UI,s),s.inputtype===BareaHelper.UI_INPUT_TEXT?this.#N(s):s.inputtype===BareaHelper.UI_INPUT_CHECKBOX?this.#C(s):s.inputtype===BareaHelper.UI_INPUT_RADIO&&this.#O(s);let t=s.directivename===BareaHelper.DIR_BIND?"input":"blur";e.addEventListener(t,(t=>{if(s.hashandler)return void this.#H(BareaHelper.VERB_SET_DATA,s);let a=BareaHelper.getDebugLog(3);s.inputtype===BareaHelper.UI_INPUT_CHECKBOX?(a.active&&console.log(a.name,"type: "+e.type,"key: "+valuekey,"input value: "+e.checked),s.data[s.key]=e.checked):s.inputtype===BareaHelper.UI_INPUT_RADIO?(a.active&&console.log(a.name,"type: "+e.type,"key: "+valuekey,"input value: "+e.value),e.checked&&(s.data[s.key]=e.value)):(a.active&&console.log(a.name,"type: "+e.type,"key: "+valuekey,"input value: "+e.value),s.data[s.key]=e.value)}))}else if(s.directivename===BareaHelper.DIR_CLASS){let t=e.getAttribute("classNames");s.orgvalue=t,this.#A(s)}else s.directivename===BareaHelper.DIR_HREF?this.#w(s):s.directivename===BareaHelper.DIR_IMAGE_SRC&&this.#k(s)}else if(BareaHelper.DIR_GROUP_COMPUTED.includes(a.name)){const r=this.#B(a.value,a.name,t.renderedvarname);if(r===BareaHelper.EXPR_TYPE_INVALID)return void console.error(`Then ${a.name} directive has an invalid value (${a.value}).`);const n=this.#S(t,e,a.name,a.value);n.expressiontype=r,t.rendereddata?n.data=t.rendereddata:n.data=this.#n,n.key="";let i=a.value.trim();i.includes("?")&&(i=i.split("?")[0]);let s=!1,l=this.#s.get(a.value);if(l&&!t.rendereddata||(s=!0,l=t.template?`${BareaHelper.META_DYN_TEMPLATE_FUNC_PREFIX}${this.#r}`:`${BareaHelper.META_DYN_FUNC_PREFIX}${this.#r}`,this.#s.set(a.value,l)),a.name===BareaHelper.DIR_IF&&(n.elementnextsibling=e.nextSibling,n.parentelement=e.parentElement),r===BareaHelper.EXPR_TYPE_COMPUTED)n.handlername=i,this.#u[n.handlername].addDependentDirective(n),this.#x(n);else if(r===BareaHelper.EXPR_TYPE_ROOT_EXPR){const t=this.#n,r=function(){return i=i.replaceAll("root.","contextdata."),function(t,r){try{return new Function("contextdata",`return ${t};`)(r)}catch(r){return console.error(`Error evaluating expression ${t} on ${e.localName} with attribute ${a.name}`),!1}}(i,t)};s&&(this.#u[l]=this.#y(r,l),this.#l.push(l)),n.handlername=l,n.iscomputed=!0,this.#u[n.handlername].addDependentDirective(n),this.#x(n)}else if(r===BareaHelper.EXPR_TYPE_OBJREF_EXPR){const r=function(){return i=i.replaceAll(t.renderedvarname+".","contextdata."),function(t,r){try{return new Function("contextdata",`return ${t};`)(r)}catch(r){return console.error(`Error evaluating expression ${t} on ${e.localName} with attribute ${a.name}`),!1}}(i,n.data)};if(!t.renderedvarname)return void console.error(`Invalid expression: ${i} to use as a dynamicly created function in a template.`);s&&(this.#u[l]=this.#y(r,l),this.#l.push(l)),n.handlername=l,n.iscomputed=!0,this.#u[n.handlername].addDependentDirective(n),this.#x(n)}else if(r===BareaHelper.EXPR_TYPE_MIX_EXPR){const r=n.data,o=this.#n,d=function(){return i=i.replaceAll("root.","rootdata."),i=i.replaceAll(t.renderedvarname+".","subdata."),function(t,r,n){try{return new Function("subdata","rootdata",`return ${t};`)(r,n)}catch(r){return console.error(`Error evaluating mixed expression ${t} on ${e.localName} with attribute ${a.name}`),!1}}(i,r,o)};if(!t.renderedvarname)return void console.error(`Invalid expression: ${i} to use as a dynamicly created function in a template.`);s&&(this.#u[l]=this.#y(d,l),this.#l.push(l)),n.handlername=l,n.iscomputed=!0,this.#u[n.handlername].addDependentDirective(n),this.#x(n)}}else if(BareaHelper.DIR_GROUP_TRACK_AND_FORGET.includes(a.name)){const r=this.#B(a.value,a.name);if(r===BareaHelper.EXPR_TYPE_INVALID)return void console.error(`Then ${a.name} directive has an invalid value (${a.value}).`);r===BareaHelper.EXPR_TYPE_HANDLER&&e.addEventListener("click",(r=>{let n=this.#n,i=e.getAttribute(BareaHelper.META_PATH);i?n=this.getProxifiedPathData(i):t.rendereddata&&(n=t.rendereddata);let s=[r,e,n],l=BareaHelper.parseBareaFunctionCall(a.value);s.push(...l.params),this.#d[l.functionName]?this.#d[l.functionName].apply(this,s):console.warn(`Handler function '${l.functionName}' not found.`)}))}else if(BareaHelper.DIR_GROUP_MARKUP_GENERATION.includes(a.name)){const r=this.#B(a.value,a.name);if(r===BareaHelper.EXPR_TYPE_INVALID)return void console.error(`Then ${a.name} directive has an invalid value (${a.value}).`);let[n,i]=a.value.split(" in ").map((e=>e.trim()));if(!n)return void console.error(`No variable name was found in the ${a.name} expression`);if(!i)return void console.error(`No path or computed function was found in the ${a.name} expression`);const s=this.#L(t,e,a.name,a.value,null,"",e.parentElement,e.innerHTML,e.localName);if(s.elementnextsibling=e.nextSibling,s.expressiontype=r,r!==BareaHelper.EXPR_TYPE_COMPUTED){let t=BareaHelper.getLastBareaObjectName(i);if(s.data=this.getProxifiedPathData(t),s.key=BareaHelper.getLastBareaKeyName(i),e.remove(),!Array.isArray(s.data[s.key]))return void console.error(`could not find array for ${i} in  ${a.name} directive`);this.#f.track("value",s)}else this.#u[i].addDependentDirective(s),this.#f.track("computed",s);this.#U(s,BareaHelper.ROOT_OBJECT,s.data[s.key])}}))})),this.#$(e).forEach((e=>{let a=e.textNode,r=[];e.expressions.forEach((e=>{let n=e.replaceAll("{","").replaceAll("}","").trim();const i=this.#B(n,BareaHelper.DIR_INTERPOLATION,t.renderedvarname);if(i===BareaHelper.EXPR_TYPE_INVALID)return void console.error(`The ${DIR_INTERPOLATION} directive has an invalid expression (${n}).`);let s=this.#X(t,BareaHelper.DIR_INTERPOLATION,n,null,"",a,e,a.nodeValue);if(s.expressiontype=i,i===BareaHelper.EXPR_TYPE_COMPUTED)s.isrendered=!1,s.iscomputed=!0,r.push(s);else if([BareaHelper.EXPR_TYPE_ROOT_PATH,BareaHelper.EXPR_TYPE_OBJREF,BareaHelper.EXPR_TYPE_OBJREF_PATH].includes(i)){let l=BareaHelper.ROOT_OBJECT;!t.rendereddata||n.startsWith(BareaHelper.ROOT_OBJECT)?(l=BareaHelper.getLastBareaObjectName(n),s.data=this.getProxifiedPathData(l)):s.data=t.rendereddata,s.key="";let o=BareaHelper.getLastBareaKeyName(n);if(o!==BareaHelper.OBJECT&&o!==l&&(s.key=o),s.isrendered=!1,s.iscomputed=!1,r.push(s),!s.key&&s.data){let d=this;function c(i){for(let s in i)if("object"==typeof i[s]&&null!==i[s]&&!Array.isArray(i[s])){let l=d.#X(t,BareaHelper.DIR_INTERPOLATION,n,null,"",a,e,a.nodeValue);l.data=i[s],l.isrendered=!1,l.iscomputed=!1,r.push(l),c(i[s])}}c(s.data)}}else BareaHelper.INTERPOL_INDEX===i&&(s.isrendered=!0,s.iscomputed=!1,s.data=t.rendereddata,r.push(s),t.template&&(t.template.usesReRenderedInterpolation=!0))})),r.length>0&&r.forEach((e=>{e.nodeexpressions=r,e.isrendered?this.#f.track("nontrackable",e):e.iscomputed&&this.#u[e.directivevalue]?this.#u[e.directivevalue].addDependentDirective(e):e.key?this.#f.track("value",e):e.data&&this.#f.track("object",e),this.#M(e)}))}));let r=BareaHelper.getDebugLog(4);r.active&&(console.log(r.name),this.#f.getAllDependencies().forEach(((e,t)=>{console.log(t,e)}))),r=BareaHelper.getDebugLog(5),r.active&&(console.log(r.name),this.#E.getAllDependencies().forEach(((e,t)=>{console.log(t,e)})))}#$(e=this.#t){let t=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode:e=>e.nodeValue.includes("{{")&&e.nodeValue.includes("}}")?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}),a=[];for(;t.nextNode();){let e={textNode:t.currentNode,expressions:[]};e.expressions=this.#F(e.textNode.nodeValue),a.push(e)}return a}#v(e=this.#t){if(e!==this.#t)return;let t=[],a=[];function r(e,a){t.push(e);for(let t=0;t<e.children.length;t++)r(e.children[t])}return e.querySelectorAll(`[${BareaHelper.DIR_FOREACH}]`).forEach((e=>{let n=!0;t=[],Array.from(e.children).forEach((e=>r(e)));let i=e.getAttribute(BareaHelper.DIR_FOREACH),[s,l]=i.split(" in ").map((e=>e.trim()));s||(n=!1,console.error(`No variable name was found in the ${BareaHelper.DIR_FOREACH} expression: ${i}`),n=!1),l||(n=!1,console.error(`No path or computed function was found in the ${BareaHelper.DIR_FOREACH} expression: ${i}`),n=!1),t.forEach((e=>{BareaHelper.DIR_GROUP_BIND_TO_PATH.forEach((t=>{if(e.hasAttribute(t)){let a=e.getAttribute(t);a.includes(BareaHelper.ROOT_OBJECT)||a.includes(s)||(n=!1,console.error(`The ${t} expression ${a} used in an element under ${BareaHelper.DIR_FOREACH} does not match the ${BareaHelper.DIR_FOREACH} expression, data should be reference by '${s}'. or '${BareaHelper.ROOT_OBJECT}'.`),n=!1)}}))})),n?a.push(...t):e.parentElement.innerHTML=""})),a}#S(e,t,a,r){return{id:this.#r++,renderedobjid:e.renderedobjid,renderedvarname:e.renderedvarname,template:e.template,directivename:a,directivevalue:r,element:t,data:null,key:"",hashandler:!1,handlername:"",inputtype:-1,iscomputed:!0}}#b(e,t,a,r,n,i,s){return{id:this.#r++,renderedobjid:e.renderedobjid,renderedvarname:e.renderedvarname,template:e.template,directivename:a,directivevalue:r,element:t,data:n,key:i,hashandler:!1,handlername:"",inputtype:s,iscomputed:!1}}#L(e,t,a,r,n,i,s,l,o){return{id:this.#r++,renderedobjid:e.renderedobjid,renderedvarname:e.renderedvarname,template:e.template,directivename:a,directivevalue:r,element:t,data:n,key:i,hashandler:!1,handlername:"",inputtype:-1,iscomputed:!1,parentelement:s,templatemarkup:l,templatetagname:o,usesReRenderedInterpolation:!1}}#X(e,t,a,r,n,i,s,l){return{id:this.#r++,renderedobjid:e.renderedobjid,renderedvarname:e.renderedvarname,template:e.template,directivename:t,directivevalue:a,element:null,data:r,key:n,hashandler:!1,handlername:"",inputtype:-1,iscomputed:!1,isrendered:!1,interpolatednode:i,expression:s,nodetemplate:l,nodeexpressions:[],renderedindex:e.renderedindex}}#_=(e,t,a,r,n,i)=>{n.forEach((e=>{if(BareaHelper.DIR_GROUP_BIND_TO_PATH.includes(e.directivename)){if(e.hashandler)return void this.#H(BareaHelper.VERB_SET_UI,e);BareaHelper.DIR_GROUP_UI_DUPLEX.includes(e.directivename)?e.inputType===BareaHelper.UI_INPUT_TEXT?this.#N(e):e.inputType===BareaHelper.UI_INPUT_CHECKBOX?this.#C(e):e.inputType===BareaHelper.UI_INPUT_RADIO&&this.#O(e):e.directivename===BareaHelper.DIR_CLASS?this.#A(e):e.directivename===BareaHelper.DIR_HREF?this.#w(e):e.directivename===BareaHelper.DIR_IMAGE_SRC&&this.#k(e)}else e.directivename===BareaHelper.DIR_INTERPOLATION?this.#M(e):BareaHelper.DIR_GROUP_MARKUP_GENERATION.includes(e.directivename)?i&&BareaHelper.ARRAY_FUNCTIONS.includes(i)?this.#U(e,r,null,i,a):this.#U(e,r,a,"",null):BareaHelper.DIR_GROUP_COMPUTED.includes(e.directivename)&&this.#x(e)}))};#x(e){let t=e.handlername,a=!1;if(this.#u[t]?a=this.#u[t].value:console.warn(`Computed boolean function '${t}' not found.`),e.directivename===BareaHelper.DIR_HIDE)e.element.style.display=a?"none":"";else if(e.directivename===BareaHelper.DIR_SHOW)e.element.style.display=a?"":"none";else if(e.directivename===BareaHelper.DIR_IF)this.#j(e,a);else if(e.directivename===BareaHelper.DIR_CLASS_IF){let t=e.directivevalue;t.includes("?")&&(t=t.split("?")[1]),this.#Y(e,a,t)}}#H(e,t){t.handlerpieces||(t.handlerpieces=BareaHelper.parseBareaFunctionCall(t.handlername));let a=[];e===BareaHelper.VERB_SET_UI&&(a=[e,t.element,t.data[t.key]]),e===BareaHelper.VERB_SET_DATA&&(a=[e,t.element,t.data,t.key]),a.push(...t.handlerpieces.params),this.#d[t.handlerpieces.functionName]?this.#d[t.handlerpieces.functionName].apply(this,a):console.warn(`Handler function '${t.handlerpieces.functionName}' not found.`)}#Y(e,t,a){let r=a.split(/[\s,]+/);t?r.forEach((t=>{e.element.classList.contains(t)||e.element.classList.add(t)})):r.forEach((t=>{e.element.classList.contains(t)&&e.element.classList.remove(t)}))}#j(e,t){t?e.element.parentNode||e.elementnextsibling&&e.parentelement.insertBefore(e.element,e.elementnextsibling):e.element.parentNode&&(e.elementnextsibling=e.element.nextSibling,e.element.remove())}#N(e){e.element&&e.element.value!==e.data[e.key]&&(e.data[e.key]?e.element.value=e.data[e.key]:e.element.value="")}#C(e){e.element&&e.element.checked!==e.data[e.key]&&(e.data[e.key]?e.element.checked=e.data[e.key]:e.element.checked=!1)}#O(e){e.element&&"radio"===e.element.type&&void 0!==e.data[e.key]&&e.element.checked!==(e.element.value===e.data[e.key])&&(e.element.checked=e.element.value===e.data[e.key])}#A(e){if(!e.data[e.key])return;e.orgvalue||(e.orgvalue="");let t=e.data[e.key];t.includes(",")&&(t=t.replaceAll(","," ")),e.element.className=t||e.orgvalue}#k(e){e.data[e.key]&&(e.element.src=e.data[e.key])}#w(e){e.data[e.key]&&(e.element.href=e.data[e.key])}#M(e){let t=e.interpolatednode,a=e.nodetemplate;e.nodeexpressions.forEach((t=>{let r="";const n=this.#B(t.directivevalue,BareaHelper.DIR_INTERPOLATION,e.renderedvarname);n!==BareaHelper.EXPR_TYPE_INVALID?(n===BareaHelper.EXPR_TYPE_COMPUTED?r=this.#u[t.directivevalue].value:[BareaHelper.EXPR_TYPE_ROOT_PATH,BareaHelper.EXPR_TYPE_OBJREF,BareaHelper.EXPR_TYPE_OBJREF_PATH].includes(n)?t.key&&t.data?r=t.data[t.key]:t.data&&(r=t.data):n===BareaHelper.INTERPOL_INDEX&&(r=String(e.renderedindex)),r||(r=""),"object"==typeof r&&(r=JSON.stringify(r)),a=a.replaceAll(t.expression,r)):console.error(`The ${BareaHelper.DIR_INTERPOLATION} directive has an invalid expression (${t.directivevalue}).`)})),t.textContent=a}#U(e,t="root",a,r,n){let i=!1,s=!1,l=[],[o,d]=e.directivevalue.split(" in ").map((e=>e.trim()));if(!o)return void console.error(`No variable name was found in the ${e.directivename} expression`);if(!d)return void console.error(`No path or computed function was found in the ${e.directivename} expression`);let c=this.#B(d,e.directivename);if(c!==BareaHelper.EXPR_TYPE_INVALID){if(!r||"shift"!==r&&"pop"!==r&&"splice"!==r||(i=!0),!r||"sort"!==r&&"reverse"!==r&&"splice"!==r||(s=!0),c===BareaHelper.EXPR_TYPE_COMPUTED&&(s=!0),r&&!BareaHelper.ARRAY_FUNCTIONS.includes(r)&&(s=!0),a&&!r&&(s=!0),c===BareaHelper.EXPR_TYPE_COMPUTED?this.#u[d]?l=this.#u[d].value:console.warn(`Could not find computed function name in the ${e.directivename} directive`):l=a||this.getProxifiedPathData(d),s){let t=0;this.#f.removeTemplateDependencies(e.id),e.parentelement.innerHTML="";const a=document.createDocumentFragment();l.forEach((r=>{let n=this.#V(e,o,r,t);a.appendChild(n),t++})),a.childElementCount>0&&e.parentelement.appendChild(a)}else if("push"===r&&n?n.forEach((t=>{let a=this.#V(e,o,t,-1);e.parentelement.appendChild(a)})):"unshift"===r&&n?n.reverse().forEach((t=>{let a=this.#V(e,o,t,-1);e.parentelement.insertBefore(a,e.parentelement.firstChild)})):"pop"===r?e.parentelement.removeChild(e.parentelement.lastChild):"shift"===r&&e.parentelement.removeChild(e.parentelement.firstChild),e.usesReRenderedInterpolation){let t=0;l.forEach((a=>{this.#f.getObjectDependencies(a,e.id).forEach((e=>{e.directivename===BareaHelper.DIR_INTERPOLATION&&e.isrendered&&(e.renderedindex=t,this.#M(e),t++)}))}))}i&&this.#f.removeDeletedElementDependencies(e.id)}else console.error(`The expression for the directive ${e.directivename} value: ${e.directivevalue} is not valid`)}#V(e,t,a,r=-1){this.#r++;const n=document.createElement(e.templatetagname);return n.innerHTML=e.templatemarkup,n.id?n.id=n.id+`-${this.#r}`:n.id=`${e.id}-${t}-${this.#r}`,n.querySelectorAll("*").forEach((e=>{e.id?e.id=e.id+`-${this.#r}`:e.id=`${t}-${this.#r}`;let a=e.getAttribute("for");a&&e.setAttribute("for",a+`-${this.#r}`)})),this.#T(n,{template:e,rendereddata:a,renderedindex:r,renderedvarname:t,renderedobjid:this.#r}),n}#B=function(e,t,a){return BareaHelper.DIR_GROUP_BIND_TO_PATH.includes(t)?e.includes("(")||e.includes(")")?BareaHelper.EXPR_TYPE_INVALID:e.includes(".")?e.toLowerCase().startsWith("root.")?BareaHelper.EXPR_TYPE_ROOT_PATH:BareaHelper.EXPR_TYPE_OBJREF_PATH:BareaHelper.EXPR_TYPE_INVALID:[BareaHelper.DIR_CLICK,BareaHelper.DIR_BIND_HANDLER].includes(t)?e.includes("(")&&e.includes(")")?BareaHelper.EXPR_TYPE_HANDLER:BareaHelper.EXPR_TYPE_INVALID:BareaHelper.DIR_GROUP_COMPUTED.includes(t)?e.includes("(")||e.includes(")")?BareaHelper.EXPR_TYPE_INVALID:e.includes("root.")?a&&e.includes(a+".")?BareaHelper.EXPR_TYPE_MIX_EXPR:BareaHelper.EXPR_TYPE_ROOT_EXPR:e.includes(".")?BareaHelper.EXPR_TYPE_OBJREF_EXPR:BareaHelper.EXPR_TYPE_COMPUTED:t===BareaHelper.DIR_FOREACH?e.includes("root.")?BareaHelper.EXPR_TYPE_ROOT_PATH:e.includes(".")?BareaHelper.EXPR_TYPE_INVALID:BareaHelper.EXPR_TYPE_COMPUTED:t===BareaHelper.DIR_INTERPOLATION?e.includes("(")||e.includes(")")?BareaHelper.EXPR_TYPE_INVALID:e.toLowerCase()===a+"."+BareaHelper.INTERPOL_INDEX?BareaHelper.INTERPOL_INDEX:e.toLowerCase().startsWith("root.")?BareaHelper.EXPR_TYPE_ROOT_PATH:e.includes(".")?BareaHelper.EXPR_TYPE_OBJREF_PATH:this.#l.includes(e)?BareaHelper.EXPR_TYPE_COMPUTED:BareaHelper.EXPR_TYPE_OBJREF:BareaHelper.EXPR_TYPE_INVALID};#F(e){return e.match(/\{\{\s*.*?\s*\}\}/g)||[]}#g(e){return null!==e&&"object"!=typeof e&&"function"!=typeof e}#I=e=>{this.#m&&document.querySelectorAll(".ba-cloak").forEach((e=>e.classList.remove("ba-cloak")))};#y(e,t){let a=this,r=this.#E,n=this.#f;return new class{dependentDirectives=new Set;constructor(e,t){this.name=t,this.getter=e,this.dirty=!0,this.dependencyPaths=new Set,this.setDirty=e=>{this.dirty=!0,n.notifyDependentUserInterface(this.dependentDirectives)}}track(e,t){e.addSubscriber(this.name,this.setDirty),this.dependencyPaths.add(t)}addDependentDirective(e){this.dependentDirectives.add(e)}clearDependentDirectives(){this.dependentDirectives.clear()}get value(){return this.dirty&&(r.start(this),this._value=this.getter.call(a),r.stop(),this.dirty=!1),this._value}}(e,t)}#D(){let e;return new class{#G=null;#J=null;constructor(){if(e)return e;this.#G=new Map,e=this}start(e){this.#J=e}stop(){this.#J=null}getAllDependencies(){return this.#G}isDepencencyPath(e,t){if(!e)return!1;if(!t)return!1;if(!this.#G.has(e))return!1;for(let a of this.#G.keys()){if(a!==e)continue;let r=this.#G.get(a);for(let e of r.subscribers.keys())if(e===t)return!0}return!1}track(e,t){if(!e)return;if(e===BareaHelper.ROOT_OBJECT)return;let a="";if(a=t?e+"."+t.toLowerCase():e,this.#J){let e=this.#q(a);this.#J.track(e,a)}}notify(e,t){if(!e)return;if(e===BareaHelper.ROOT_OBJECT)return;let a="";a=t?e+"."+t.toLowerCase():e,this.#q(a).notify(a)}#q(e){let t=this.#G.get(e);return t||(t=this.#K(e),this.#G.set(e,t)),t}#K(e){let t=new Map;return{subscribers:t,addSubscriber(e,a){t.has(e)||t.set(e,a)},notify(e){t.forEach(((t,a)=>{t(e)}))}}}}}#P(e){let t,a=this.#u,r=this;return new class{#G=new Map;#W=new WeakMap;#z=null;#Q=0;#Z=0;#ee=0;#te=[];constructor(e){if(t)return t;this.#z=e,t=this}#ae(e){let t=!1,a=0;return this.#W.has(e)||(t=!0,this.#W.set(e,++this.#Q)),a=this.#W.get(e),{id:a,isnew:t}}removeTemplateDependencies(e=-1){let t=[];this.#G.forEach(((a,r)=>{for(const n of a)n.template&&n.template.id===e&&-1!==e&&t.push(r)}));for(let e=0;e<t.length-1;e++)this.#G.delete(t[e]);Object.keys(a).forEach((t=>{for(let r of[...a[t].dependentDirectives])r.template&&r.template.id===e&&a[t].dependentDirectives.delete(r)}))}removeDeletedElementDependencies(e=-1){let t=[];this.#G.forEach(((a,r)=>{for(const n of a)n.template&&n.template.id===e&&-1!==e&&n.element&&!n.element.isConnected&&t.push(r)}));for(let e=0;e<t.length-1;e++)this.#G.delete(t[e]);Object.keys(a).forEach((t=>{for(let r of[...a[t].dependentDirectives])r.template&&r.template.id===e&&r.element&&!r.element.isConnected&&a[t].dependentDirectives.delete(r)}))}getObjectDependencies(e,t=-1){let a=[];return this.#G.forEach(((r,n)=>{for(const n of r)n.template&&n.data&&n.template.id===t&&Object.is(n.data,e)&&a.push(n)})),a}getAllDependencies(){return this.#G}track(e,t){if(this.#Z++,!t.data&&!t.isrendered&&!BareaHelper.DIR_GROUP_MARKUP_GENERATION.includes(t.directivename))return void console.error("Tracked UI has no data",t);if(BareaHelper.DIR_GROUP_COMPUTED.includes(t.directivename))return;const a=t.data;let r="";return r="value"===e?this.#ae(a).id+":value:"+t.key:"object"===e?this.#ae(a).id+":object:":e,!!r&&(this.#G.has(r)||this.#G.set(r,new Set),this.#G.get(r).add(t),BareaHelper.DIR_GROUP_MARKUP_GENERATION.includes(t.directivename)&&t.element&&t.parentelement&&this.#te.push(t),!0)}notify(e,t,a,n,i){this.#ee++;let s=this.#ae(t);if(s.isnew)r.refresh();else{let r=s.id+":value:"+a,l=this.#G.get(r);l||(l=new Set),r=s.id+":object:";let o=this.#G.get(r);o||(o=new Set);let d=new Set([...l,...o]);if(0===d.size)return;this.#z(t,a,n,e,d,i)}}notifyDependentUserInterface(e){e&&this.#z(null,"",null,"",e,"")}restoreUITracker(){this.#te.forEach((e=>{BareaHelper.DIR_GROUP_MARKUP_GENERATION.includes(e.directivename)&&e.element&&e.parentelement&&(e.parentelement.innerHTML="",e.parentelement.appendChild(e.element))})),this.#te=[],this.#G.clear(),this.#W=new WeakMap}}(e)}}export class BareaViewState extends EventTarget{#re=[];#t=null;#ne=null;#ie=!1;CurrentState=null;CurrentView=null;constructor(e,t,a=!1){super(),this.CurrentState={},this.#t=e,this.#ne=t,this.#se(),a&&(this.#ie=a),this.#le(),this.#oe(),this.#de()}get EntityId(){return this.CurrentState?this.CurrentState.entityId:""}setStateAndNavigate(e,t="",a=!1){if(!e)return;e.includes("/:")&&(e=e.split("/:")[0]),t&&(e.includes(`${t}`)||(e.endsWith("/")||(e+="/"),e+=`${t}`));let r="";e.startsWith("/#")&&(r=e=e.replace("/#","")),e.startsWith("#")&&(r=e=e.replace("#",""));const n=new URL(e,window.location.origin);n.hash=r,this.#ce(n,t,"programatic navigation",a)}init(){const e=new URL(window.location.href);let t="";t=e.hash?e.hash:e.pathname;let a="",r=this.#pe(e);r&&r.IsPersistedEntityView&&(a=this.#ue(e));let n={prevPath:"/",currentPath:t,entityId:a,type:"init",stateTime:Date.now(),urlPathName:e.pathname,urlHash:e.hash};localStorage.setItem("bareaState",JSON.stringify(n)),this.#ce(e,a,"init")}onChange(e){this.CurrentState=JSON.parse(localStorage.getItem("bareaState")),this.addEventListener("stateChanged",(()=>e()))}#se(){let e=0;document.querySelectorAll("template").forEach((t=>{const a=t.content.querySelectorAll("view");a.length<=0||(e+=1,a.forEach((a=>{let r=a.getAttribute("id");if(!r)return void console.error("BareaViewState - A view <view> in a template is missing id");let n=a.getAttribute("path");if(!n)return void console.error("BareaViewState - A view definition in a template is missing path");let i="",s=a.querySelector("title");s&&(i=s.textContent);let l="",o=a.querySelector("description");o&&(l=o.textContent);let d=function(e){let t={};if(!e)return t;for(let a of e.attributes)t[a.name]=a.value;return t}(a.querySelector("data"));d.title=i,d.description=l;let c=this.#re.find((e=>e.Id==r));if(c){let e=c.getViewDescription();e.hasOwnProperty("title")&&!e.title&&(e.title=i),e.hasOwnProperty("description")&&!e.description&&(e.description=l);for(let t in d)e.hasOwnProperty(t)||(e[t]=d[t]);c.setViewDescription(e)}else c=new BareaView(r,n,this.#ne),c.setViewDescription(d),this.#re.push(c);let p=t.content.querySelector("design");if(!p)return;let u=document.createElement("div");u.setAttribute("id",`${c.Id}_${e}`),t.insertAdjacentElement("afterend",u);let h=p.cloneNode(!0);const m=document.createElement("div");m.innerHTML=h.innerHTML;let f={parent:u,markup:m};c.addViewMarkUpInfo(f)})),t.remove())}))}#le(){let e=this;document.addEventListener("click",(t=>{const a=t.target.closest("a");if(!a)return;if(a.hasAttribute("data-bs-toggle")||a.classList.contains("dropdown-toggle")||a.classList.contains("no-navigation"))return;if(!t.target.href)return;const r=new URL(t.target.href);this.#he(r)&&(t.preventDefault(),e.#ce(r,"","link navigation"))}))}#oe(){let e=this;window.addEventListener("hashchange",(function(){e.#ce(window.location,"","hash change navigation")}))}#de(){if(!this.#ie)return;let e=this;window.addEventListener("popstate",(function(t){e.#ce(window.location,"","pop state navigation")}))}#ue(e){if(!e)return"";let t="";t=e.hash?e.hash:e.pathname;let a=t.split("/");if(a.length>1){let e=a[a.length-1];if(e){if(!this.#re.some((t=>t.RequestPath.includes(e))))return e}}return""}#me(){this.#re.forEach((e=>{e.getViewMarkUpInfo().forEach((e=>{e.parent.replaceChildren()}))}))}#ce(e,t="",a="init",r){if(!e)return;let n=this.#fe(),i=this.#pe(e);if(i){if(i.IsPersistedEntityView&&!t&&(t=this.#ue(e)),this.#Ee(n.currentPath,i.RequestPath,n.entityId,t)&&this.CurrentView&&!r)return;this.CurrentView=i}else this.CurrentView=null;this.#me(),n.prevPath=n.currentPath,"init"!==a&&(e.hash?(window.location.hash=e.hash,n.currentPath=e.hash):(n.currentPath=e.pathname,this.#ie?history.pushState(this.CurrentState,a,e):window.location.href=e)),n.urlPathName=e.pathname,n.urlHash=e.hash,n.stateTime=Date.now(),n.type=a,n.entityId=t,this.CurrentState=n,localStorage.setItem("bareaState",JSON.stringify(this.CurrentState)),BareaHelper.getDebugLog(10).active&&console.info(`state engine: ${a}`,this.CurrentState),this.dispatchEvent(new Event("stateChanged"))}#he(e){try{return new URL(e,window.location.origin).origin===window.location.origin}catch(e){return!1}}#Ee(e,t,a,r){if(!e||!t)return!1;if(e.startsWith("/")&&!t.startsWith("/")&&(t="/"+t),t.startsWith("/")&&!e.startsWith("/")&&(e="/"+e),e==t)return!0;if(!a||!r)return!1;if(a==r){if(e.includes(a)){if(e==t+"/"+r)return!0;if(e==t+r)return!0}if(t.includes(r)){if(t==e+"/"+a)return!0;if(t==e+a)return!0}}return!1}#fe(){try{return JSON.parse(localStorage.getItem("bareaState"))}catch{}return{prevPath:"",currentPath:"",entityId:"",type:"new",stateTime:Date.now()}}#pe(e){let t=null;return this.#re.forEach((a=>{a.validForUrl(e)&&(t=a)})),t}}export class BareaDataModel{#De="";#Pe=[];#_e=null;constructor(e){e?this.#De=e:console.error("A new instance of BareaDataModel was created without a dbtablename")}useBareaLocalStorageDb(){this.#_e={engine:"BareaLocalStorageDb"}}get DbTableName(){return this.#De}get DbColumns(){return this.#Pe}addDbStringColumn(e,t=!0){this.#Pe.push({name:e,allownull:t,datatype:"string",autoincrement:!1})}addDbIntegerColumn(e,t=!1){this.#Pe.push({name:e,allownull:!1,datatype:"integer",autoincrement:t})}getBareaDataModel(){let e={};return e[this.#De]={},e.entityList=[],this.#Pe.forEach((t=>{"string"===t.datatype&&(e[this.#De][t.name]=""),"text"===t.datatype&&(e[this.#De][t.name]=""),"integer"===t.datatype&&(e[this.#De][t.name]=0),"boolean"===t.datatype&&(e[this.#De][t.name]=!1)})),e}createEntity(e){const t=this.#ye();return t?t.createEntity(e):(console.error("No databse engine was specified, for mockup call: useBareaLocalStorageDb() (BareaDataModel)"),!1)}updateEntity(e){const t=this.#ye();return t?t.updateEntity(e):(console.error("No databse engine was specified, for mockup call: useBareaLocalStorageDb() (BareaDataModel)"),!1)}getEntities(e=""){const t=this.#ye();return t?t.getEntities(e):(console.error("No databse engine was specified, for mockup call: useBareaLocalStorageDb() (BareaDataModel)"),[])}getEntity(e){const t=this.#ye();return t?t.getEntity(e):(console.error("No databse engine was specified, for mockup call: useBareaLocalStorageDb() (BareaDataModel)"),{})}deleteEntity(e){const t=this.#ye();return t?t.deleteEntity(e):(console.error("No databse engine was specified, for mockup call: useBareaLocalStorageDb() (BareaDataModel)"),!1)}#ye(){if(this.#_e)return"BareaLocalStorageDb"===this.#_e.engine?this.#Ie():null}#Ie(){const e=this;return new class{#Re(){let t=null,a=localStorage.getItem("BareaDataBase");return a&&(t=JSON.parse(a)),t||(t={},t[e.DbTableName+"_db"]=[],localStorage.setItem("BareaDataBase",JSON.stringify(t))),t}#Te(e){let t=0;return e.forEach((e=>{e.id&&e.id>t&&(t=e.id)})),t}createEntity(t){const a=this.#Re();return t.id||(t.id=this.#Te(a[e.DbTableName+"_db"])+1),a[e.DbTableName+"_db"].push(t),localStorage.setItem("BareaDataBase",JSON.stringify(a)),!0}updateEntity(t){const a=this.#Re();let r=a[e.DbTableName+"_db"],n=r.findIndex((e=>e.id==t.id));return-1!==n&&(r[n]=t,localStorage.setItem("BareaDataBase",JSON.stringify(a)),!0)}getEntities(t=""){return this.#Re()[e.DbTableName+"_db"]}getEntity(t){const a=this.#Re();if(t){return a[e.DbTableName+"_db"].find((e=>e.id==t))}return{}}deleteEntity(t){const a=this.#Re();let r=a[e.DbTableName+"_db"],n=r.findIndex((e=>e.id==t));return-1!==n&&(r.splice(n,1),localStorage.setItem("BareaDataBase",JSON.stringify(a)),!0)}}}}export class BareaView{#ge="";#ve="";#Be={};#ne=null;#be=[];#He=!1;constructor(e,t,a=null,r=null){this.#ge=e,this.#ve=t,this.#ve.includes("/:")&&(this.#He=!0,this.#ve=this.#ve.split("/:")[0]),this.#ne=a||new BareaDataModel(r)}get Id(){return this.#ge}get IsPersistedEntityView(){return this.#He}get RequestPath(){return this.#ve}getViewMarkUpInfo(){return this.#be}addViewMarkUpInfo(e){this.#be.push(e)}getDataModel(){return this.#ne}setViewDescription(e){this.#Be=e}getViewDescription(){return this.#Be}addDbStringColumn(e,t=!0){this.#ne.addDbStringColumn(e,t)}addDbIntegerColumn(e,t=!1){this.#ne.addDbIntegerColumn(e,t)}validForUrl(e){if(!e)return!1;if(e.hash){let t=e.hash;if(t.length<2)return!1;if(t.includes(this.#ve))return!0;if(t="/"+t,t.includes(this.#ve))return!0}return!!e.pathname.includes(this.#ve)}render(){this.#be.forEach((e=>{e.parent.replaceChildren(e.markup.cloneNode(!0))}))}}export class BareaHelper{static DIR_BIND="ba-bind";static DIR_BIND_BLUR="ba-bind-blur";static DIR_BIND_HANDLER="ba-bind-handler";static DIR_FOREACH="ba-foreach";static DIR_CLICK="ba-click";static DIR_CLASS="ba-class";static DIR_CLASS_IF="ba-class-if";static DIR_HIDE="ba-hide";static DIR_SHOW="ba-show";static DIR_IMAGE_SRC="ba-src";static DIR_IF="ba-if";static DIR_HREF="ba-href";static DIR_INTERPOLATION="interpolation";static DIR_GROUP_BIND_TO_PATH=[BareaHelper.DIR_BIND,BareaHelper.DIR_BIND_BLUR,BareaHelper.DIR_CLASS,BareaHelper.DIR_HREF,BareaHelper.DIR_IMAGE_SRC];static DIR_GROUP_UI_DUPLEX=[BareaHelper.DIR_BIND,BareaHelper.DIR_BIND_BLUR];static DIR_GROUP_TRACK_AND_FORGET=[BareaHelper.DIR_CLICK];static DIR_GROUP_COMPUTED=[BareaHelper.DIR_CLASS_IF,BareaHelper.DIR_HIDE,BareaHelper.DIR_SHOW,BareaHelper.DIR_IF];static DIR_GROUP_MARKUP_GENERATION=[BareaHelper.DIR_FOREACH];static UI_INPUT_TEXT=1;static UI_INPUT_CHECKBOX=2;static UI_INPUT_RADIO=3;static UI_INPUT_CUSTOM=4;static VERB_SET_DATA="SET_DATA";static VERB_SET_UI="SET_UI";static META_PATH="ba-path";static META_DYN_FUNC_PREFIX="dynFunc_";static META_DYN_TEMPLATE_FUNC_PREFIX="dynTemplFunc_";static INTERPOL_INDEX="index";static EXPR_TYPE_ROOT_PATH="root-path";static EXPR_TYPE_HANDLER="static-handler";static EXPR_TYPE_COMPUTED="computed";static EXPR_TYPE_OBJREF="child-obj";static EXPR_TYPE_OBJREF_PATH="child-obj-path";static EXPR_TYPE_OBJREF_EXPR="child-obj-expression";static EXPR_TYPE_ROOT_EXPR="root-expr";static EXPR_TYPE_MIX_EXPR="root-and-child-expression";static EXPR_TYPE_INVALID="invalid-expression";static ROOT_OBJECT="root";static ARRAY_FUNCTIONS=["push","pop","splice","shift","unshift","reverse","sort"];static DebugLogs=[{id:1,name:"BareaApp - Proxy call back: ",active:!1},{id:2,name:"BareaApp - Update dom on proxy change: ",active:!1},{id:3,name:"BareaApp - Update proxy on user input: ",active:!1},{id:4,name:"BareaApp - Print tracked UI dependencies: ",active:!1},{id:5,name:"BareaApp - Print tracked computed dependencies: ",active:!1},{id:10,name:"BareaViewState - On state changed: ",active:!1}];static getLastBareaKeyName=function(e){if(!e)return"root";let t=e.split(".");if(t.length<2)return"root";let a="";return t.forEach((e=>{a=e})),a};static getLastBareaObjectName=function(e){if(!e)return"root";let t=null,a=e.split(".");for(let e=0;e<a.length-1;e++)t?t+="."+a[e]:t=a[e];return null==t&&(t=e),t};static parseBareaFunctionCall=function(e){function t(e){return/^["'].*["']$/.test(e)?e.slice(1,-1):"true"===e||"false"!==e&&("null"===e?null:isNaN(e)?/^\[.*\]$/.test(e)?e.slice(1,-1).split(",").map((e=>t(e.trim()))):e:e.includes(".")?parseFloat(e):parseInt(e,10))}const a=e.match(/^(\w+)\((.*)\)$/);if(!a)return null;const[r,n,i]=a;return{functionName:n,params:i.trim()?[...i.matchAll(/'[^']*'|"[^"]*"|[^,]+/g)].map((e=>t(e[0].trim()))):[]}};static hasAnyChar=function(e,t){return t.some((t=>e.includes(t)))};static enableDebugLog=function(e){const t=BareaHelper.DebugLogs.findIndex((t=>t.id===e));-1!==t&&(BareaHelper.DebugLogs[t].active=!0)};static getDebugLog=function(e){const t=BareaHelper.DebugLogs.find((t=>t.id===e));return t||{id:-1,name:"",active:!1}};static printDebugLogs=function(){console.log("barea: available logs:"),BareaHelper.DebugLogs.forEach((e=>console.log(e)))}}
//# sourceMappingURL=/sm/1d4ef8827b893180254a22ce98653ef753ddd0e4abd5a7787fde5ccc83df7754.map